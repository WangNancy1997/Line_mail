<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0",maximum-scale=1, user-scalable=no">
    <title>訂閱mail</title>
    <link rel="stylesheet" href="./css/linemail.css">

   
</head>
<body>
    <div class="mail_bg">
        <!-- logo -->
        <img class="logo" src="https://github.com/WangNancy1997/Line_mail/blob/master/img/logo.png?raw=true" alt="">
        <div class="content_box">

            <!-- 好友募集中 -->
            <img src="https://github.com/WangNancy1997/Line_mail/blob/master/img/text%E6%8E%A8%E6%92%AD%E6%89%8B%E6%A9%9F.png?raw=true" alt="" class="mail_text">
            <input type="mail"  placeholder="Enter your email here..."  class="mail_input" id="mail_input" onfocus="inputFocus()">
            <button type="submit" href="" class="mailSubmit">
              

                <!-- 按鈕 -->
                <img  src="https://github.com/WangNancy1997/Line_mail/blob/master/img/button.png?raw=true" alt="" class="mail_text">
            </button>
            <a href="">
                <p class="linbot_discount">限時加碼！現在訂閱Linebot NBA項目，再多送你8天訂閱>></p>
            </a>

        </div>
        <!-- 背景圖 -->
        <img src="https://github.com/WangNancy1997/Line_mail/blob/master/img/bc.png?raw=true" alt="" class="pop_bg">
    </div>


    <!-- mail驗證 -->
    <script>
        // 送出按鈕－
        var mailSubmit=document.querySelector('.mailSubmit');


        // 當按下送出會取值
      function mailBtn(value){
        var str ="";
        // 取得input值
        var mialInput=document.getElementById('mail_input').value;

        str=mialInput;

        // 未填寫狀態
        if(str==''){
            alert('請輸入電子信箱');
            document.getElementById('mail_input').focus();
            return false;
        }
        // 有填寫但內容錯誤狀態
        else{
            var mailRegxp=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;

            if(mailRegxp.test(str)!=true){
                alert('電子信箱格式錯誤');
                document.getElementById('mail_input').focus();
                document.getElementById('mail_input').select();
                return false;
            }
            // 填寫成功狀態
            else{
                alert('填寫成功！！');
            }
        }
        // alert(str);
      }
      mailSubmit.addEventListener('click',mailBtn);

     


    </script>

    <!-- <script>
        function inputFocus(){
            setTimeout(function(){
                
                window.scrollTo(0,document.body.clientHeight);
            },500);
        }
    </script> -->

    <script>
        

      // 监听键盘的显示和隐藏事件
        window.addEventListener('resize', function() {
        // 获取文档的高度（不包括键盘高度）
        var docHeight = window.innerHeight;
        // 获取窗口的可见高度（包括键盘高度）
        var windowHeight = window.outerHeight;
        // 计算键盘的高度
        var keyboardHeight = windowHeight - docHeight;
        // 如果键盘高度大于0，则说明键盘正在显示
        if (keyboardHeight > 0) {
            // 处理键盘显示的逻辑
            
            console.log('键盘高度为：' + keyboardHeight);

            window.addEventListener('resize', function() {
        var form = document.querySelector('.mail_bg');
        form.style.height =calc('100vh-'+keyboardHeight+'px');
        });


        } else {
            // 处理键盘隐藏的逻辑
            console.log('键盘已隐藏');
        }
        });


       

    </script>



<!-- 測試螢幕方向 -->
    <!-- <script>
        $(window).on("deviceorientation resize", function( event ) {
            if (window.matchMedia("(orientation: portrait)").matches) {
                $('.mail_bg').css("display","none");
                $('.pop_bg').html('<p>test</p>');
            }
            if (window.matchMedia("(orientation: landscape)").matches) {
                $('.mail_bg').css("display","none");
                $('.pop_bg').html('<p>test</p>');
            }
});

    </script> -->



    
</body>
</html>